水一篇
======

(Github正常排版: [水一篇]())

---

文章有点长,配了目录. 着实不知道cat大佬文章那种代码高亮和底色格式怎么弄的.现在这样写,看着有点乱.

- [水一篇](#水一篇)
	- [**0.原因**](#0原因)
	- [**1.基础配置**](#1基础配置)
	- [**2.工具类准备**](#2工具类准备)
	- [**3.射线和球相交**](#3射线和球相交)
	- [**4.材质**](#4材质)
	- [**5.数据准备**](#5数据准备)
	- [**6.射线**](#6射线)
	- [**7.基础颜色**](#7基础颜色)
	- [**8.基础效果**](#8基础效果)
	- [**9.自发光**](#9自发光)
	- [**10.其它**](#10其它)
		- [**10.1.动画**](#101动画)
		- [**10.2.主线程**](#102主线程)
		- [**10.3.性能现实**](#103性能现实)

---

## **0.原因**

&emsp;&emsp; 前两天又看见@ycz的史莱姆的demo了([Demo视频地址](https://www.bilibili.com/video/BV1YL411V7DM?spm_id_from=333.851.b_7265636f6d6d656e64.6))! 其实想知道到底用的什么技术做的Doge. 可恶的白神!!!

然后就做了猜想. 第一种就是两年前做的类似于SDF的做法, 也就是今天要讲的. 我抄的@ShinaMashiro 的这篇文章 https://zhuanlan.zhihu.com/p/90245545 . 其实他这篇已经讲的很详细了, **我这篇只是做一个他的的学习笔记**.

![](Images/RaymarchWaterDrop_0.jpg)

第二种就是骨骼控制. 想起了刚发布的星之卡比3D, 不知道卡比是不是用的这套技术.

![](Images/RaymarchWaterDrop_1.jpg)

放错了再来.

![](Images/RaymarchWaterDrop_2.jpg)

第三种就是物理模拟更新Mesh. 这套比较符合白神(的炫技), 因为在她的另外一个视频里面, 也有胶状/果冻的物理DuangDuangDuang.

![](Images/RaymarchWaterDrop_3.jpg)

之前有想过一个问题, 就是我看物理模拟都是粒子点的, 是怎么把它渲染成效果的. 然后本来这篇是想写这老哥写的液体模拟, 奈何还没有学完.(他有一个免费版本的)[商店地址](https://assetstore.unity.com/packages/tools/physics/zibra-liquids-200718?q=Zibra&orderBy=1)

![](Images/RaymarchWaterDrop_4.jpg) 

大体出来的效果是这样的.

![](Images/RaymarchWaterDrop_5.jpg) 

---
